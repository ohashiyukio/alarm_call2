<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>アラーム</title>
<script>
  document.addEventListener("DOMContentLoaded", function() {
    const msg = new SpeechSynthesisUtterance("<%= @alarm.comment %>");
    console.log("読み上げ準備完了:", "<%= @alarm.comment %>");

    // 再生テスト用（クリックで音声が出るかチェック）
    document.body.addEventListener("click", function() {
      speechSynthesis.speak(msg);
      console.log("クリックで音声を再生");
    });

    // 自動で音声を再生
    speechSynthesis.speak(msg);
  });
</script>

</head>
<body>
  <h1>アラーム</h1>
  <p><%= @alarm.alarm_time.strftime('%Y-%m-%d %H:%M') %> - <%= @alarm.comment %></p>
  <button id="stopAlarm">ストップ</button>
  <a href="<%= alarms_path %>">戻る</a>
</body>
</html>
